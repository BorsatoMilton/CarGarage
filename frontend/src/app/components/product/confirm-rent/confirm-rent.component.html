<div class="page-container">
    <div class="vehicle-container">
      <app-universal-alert></app-universal-alert>
      <div *ngIf="vehiculo">
        <img id="imagen-vehiculo" *ngIf="vehiculo.imagenes && vehiculo.imagenes.length > 0"
          [src]="'http://localhost:3000/uploads/' + vehiculo.imagenes[0]" alt="Imagen del vehículo" />
        <p *ngIf="!vehiculo.imagenes?.length">No hay imágenes disponibles para este vehículo.</p>
      </div>
  
      <div class="vehicle-details">
        <div class="anuncio">
          <strong>Descripción del vehiculo</strong>
        </div>
        <hr>
        <p><strong>Modelo:</strong> {{rent?.vehiculo?.modelo}}</p>
        <p><strong>Categoria:</strong> {{vehiculo?.categoria?.nombreCategoria}} </p>
        <p><strong>Marca:</strong> {{vehiculo?.marca?.nombreMarca}}</p>
        <p><strong>Descripción:</strong> {{rent?.vehiculo?.descripcion}}</p>
        <p><strong>Transmisión:</strong> {{rent?.vehiculo?.transmision}}</p>
        <p><strong>Precio Alquiler Diario:</strong> {{ rent?.vehiculo?.precioAlquilerDiario| currency:'ARS' }}</p>
        <p> <strong>Desde: </strong>{{rent?.fechaHoraInicioAlquiler | date:'yyyy-MM-dd'}} <br> <strong>Hasta: </strong>{{rent?.fechaHoraDevolucion | date:'yyyy-MM-dd'}}</p>
        <p>
            <strong>Total: </strong>{{totalAlquiler | currency:'ARS'}}
        </p>
        <div class="anuncio">
          <strong>Descripción del propietario</strong>
        </div>
        <hr>
        <p><strong>Nombre:</strong>{{vehiculo?.propietario?.nombre}} </p>
        <p><strong>Apellido:</strong> {{vehiculo?.propietario?.apellido}} </p>
        <p><strong>Email:</strong> {{vehiculo?.propietario?.mail}} </p>
        <p><strong>Direccion:</strong> {{vehiculo?.propietario?.direccion}} </p>
        <p><strong>Telefono:</strong> {{vehiculo?.propietario?.telefono || 'Sin celular'}} </p>
  
        <button
        type="button"
        (click)="confirmRent()"
        class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
        [disabled]="totalAlquiler === 0"
      >
        <div class="flex items-center justify-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H8v-2h3v-3H8v-2h3V8h2v3h3v2h-3v3h3v2h-3v3h-2v-3z"/>
          </svg>
          Pagar con Mercado Pago
        </div>
      </button>
      </div>
    </div>
  </div>  
  
  <!--<div id="confirmarAlquiler" class="modalChanged">
    <div class="modal-contentChanged">
      <span class="close" (click)="closeModal('confirmarAlquiler')">&times;</span>
      <h2>Confirmar Alquiler</h2>
      <p style="margin: 10px;">¿Estás seguro de que deseas <strong>confirmar</strong> el Alquiler?</p>
      <p style="margin: 10px;"><strong>Nombre:</strong> {{ vehiculo?.modelo }}</p>
      <button class="btn btn-secondary" (click)="closeModal('confirmarAlquiler')">Cancelar</button>
      <button class="btn btn-success" (click)="confirmRent()">Confirmar Alquiler</button>
    </div>
  </div>
  -->